<app-header-home></app-header-home>
<div class="container">
<div class="row">
<div class="col-sm-4">
<div class="login-form">
      <span><h2>Employee </h2></span>

      
<form #employeeForm="ngForm" (ngSubmit)="onSubmit(employeeForm)">
    <input type="hidden" name="$key" #$key="ngModel" [(ngModel)]="employeeService.selectedEmployee.$key">
    <div class="form-group">
      <label>Name</label>
      <input class="form-control" name="name" #name="ngModel" [(ngModel)]="employeeService.selectedEmployee.name" placeholder="Full Name" required>
    </div>
    <div class="form-group">
      <label>Position</label>
      <input class="form-control" name="position" #position="ngModel" [(ngModel)]="employeeService.selectedEmployee.position" placeholder="Position">
    </div>
    <div class="form-group">
      <label>Office</label>
      <input class="form-control" name="office" 
      #office="ngModel" [(ngModel)]="employeeService.selectedEmployee.office" 
      placeholder="Office">
    </div>
    <div class="form-group">
        <label>Salary</label>
      <div class="input-group">
        <div class="input-group-addon">
          <i class="fa fa-dollar"></i>
        </div>
        <input class="form-control" name="salary" #salary="ngModel" [(ngModel)]="employeeService.selectedEmployee.salary" placeholder="Salary">
      </div>
    </div>
    <div class="form-group">
      <label>Photo</label>
    <div class="input-group">
      <div class="input-group-addon">
        <i class="fa fa-image"></i>
      </div>
      <!-- <img [src]="imgSrc" width="350px" height="250px" >
     -->
      <div *ngIf="employeeService.selectedEmployee.imageUrl">
          <img [src]="employeeService.selectedEmployee.imageUrl" width="350px" height="250px" #imageUrl2="ngModel" [(ngModel)]="employeeService.selectedEmployee.imageUrl">
    
        </div>
        
        <div *ngIf="!employeeService.selectedEmployee.imageUrl">
            <img [src]="imgSrc" width="350px" height="250px" >
    
        </div>
       </div>
  </div>

  <div class="form-group">
    <label>Select file to upload</label>
    <input type="file" accept="image/*" class="form-control" name="imageUrl" #imageUrl="ngModel" [(ngModel)]="employeeService.selectedEmployee.imageUrl"
      (change)="showPreview($event)"
      [ngModelOptions]="{standalone: true}"
      >
     <div class="text-danger" *ngIf="isSubmitted && formControls.imageUrl.errors?.required">This field is required.
    </div>
  </div>


    <!-- <div class="card" style="width:25rem">
      <div class="card-body">
           <div class="text-center">
            <img [src]="imgSrc" width="350px" height="250px" (click)="fileUploader.click()">
          </div>
          <div class="form-group">
            <label>Select file to upload</label>
            <input type="file" accept="image/*" class="form-control" #fileUploader formControlName="imageUrl"
              (change)="showPreview($event)">
            <div class="text-danger" *ngIf="isSubmitted && formControls.imageUrl.errors?.required">This field is required.
            </div>
          </div>
          <div class="form-group">
            <input class="form-control" formControlName="caption" placeholder="Caption">
            <div class="text-danger" *ngIf="isSubmitted && formControls.caption.errors?.required">This field is required.
            </div>
          </div>
         
      
      </div>
    </div> -->

    <div class="form-group">
      <button type="submit"  class="btn btn-default" [disabled]="!employeeForm.valid">
       <i class="fa fa-floppy-o"></i> Submit</button> 
      <button type="button" class="btn btn-default" *ngIf="employeeService.selectedEmployee.$key!=null" (click)="onDelete(employeeForm)">
          <i class="fa fa-trash"></i> Delete</button>
      <button type="button" class="btn btn-default" (click)="resetForm(employeeForm)">
          <i class="fa fa-repeat"></i> Reset</button>
    </div>

  </form>
</div>

</div>
<div class="col-sm-3">
   <p></p>
</div>
<div class="col-sm-4">
    <div class="login-form">
        <span><h2>Employee List</h2></span>
        <form>
         <app-employee-list></app-employee-list>
       </form>
    </div>
</div>
</div>

 
</div>
